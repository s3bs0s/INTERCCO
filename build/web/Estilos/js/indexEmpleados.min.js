function mayorEdad(e,t,o){if("TI"===o){var n=calcularEdad(t);if(e=>18){document.getElementById("meIDUsuario").value=e,document.getElementById("meFormUsuario").action="UsuarioME",document.getElementById("meEdadUsuario").innerText=n;var a=window.location.pathname,r=a.substring(a.lastIndexOf("/")+1);if("UsuarioME"===r)var d=0,i=setInterval(function(){3===d?($("#mayorEdadAModal").modal("toggle"),clearInterval(i)):d++},1e3);else $("#mayorEdadAModal").modal("toggle")}else document.getElementById("meFormUsuario").action="#"}}function calcularEdad(e){var t=new Date,o=new Date(e),n=t.getFullYear()-o.getFullYear(),a=t.getMonth()-o.getMonth();return(a<0||0===a&&t.getDate()<o.getDate())&&n--,n}function CifrarASCII(e){if(null===e)return"";if(e.length>0){for(var t="",o=0;o<e.length;o++)t=t+e.charCodeAt(o)+"S";return t=t.substring(0,t.length-1),t}return""}function DescifrarASCII(e){if(null===e)return"";if(e.length>0){for(var t="",o=e.split("S"),n=0;n<o.length;n++)t+=String.fromCharCode(o[n]);return t}return""}function estructurarFecha(e,t){for(var o="",n="",a="",r=1,d=0;d<t.length;d++){var i=t.charAt(d);"-"!==i?1===r?o+=i:2===r?n+=i:3===r&&(a+=i):r+=1}return r=1,"dd"===e?a:"mm"===e?n:o}function estructurarHora(e,t){for(var o="",n="",a="",r=1,d=0;d<t.length;d++){var i=t.charAt(d);":"!==i?1===r?o+=i:2===r?n+=i:3===r&&(a+=i):r+=1}return r=1,"h"===e?o:"m"===e?n:a}function MOPass(e){var t=document.getElementById("InpMOPassword"+e).type;"password"===t?(document.getElementById("InpMOPassword"+e).type="text",document.getElementById("InpMOPassword"+e).focus(),document.getElementById("BtnMOPassword"+e).innerText="Ocultar"):(document.getElementById("InpMOPassword"+e).type="password",document.getElementById("InpMOPassword"+e).focus(),document.getElementById("BtnMOPassword"+e).innerText="Mostrar")}function acceptNum(e){var t=nav1?e.which:e.keyCode;return t>=48&&t<=57}function acceptNP(e){var t=nav2?e.which:e.keyCode;return 46===t||t>=48&&t<=57}function refuseCPyP(e){var t=nav3?e.which:e.keyCode;return(t<=156||t>=158)&&(t<=145||t>=147)}function formatNumberReturn(e){var t,o="";t=e.toString().replace(/\./g,"");for(var n=t.length-1,a=0;n>=0;n--,a++)o=t.charAt(n)+(a>0&&a%3==0?".":"")+o;return o}function formatNumber(e,t,o){var n,a="";n=e.replace(/\./g,"");for(var r=n.length-1,d=0;r>=0;r--,d++)a=n.charAt(r)+(d>0&&d%3==0?".":"")+a;"ver"===o?document.getElementById(t).innerText=a:document.getElementById(t).value=a}function horaMilitarANormal(e){var t,o=e.replace(":",""),n=parseInt(o);n>1159?(t=!0,n-=1200):t=!1;var a=parseInt(n%10);n=parseInt(n/10);var r=parseInt(n%10);n=parseInt(n/10);var d=parseInt(n%10);n=parseInt(n/10);var i=parseInt(n%10),s=r+""+a,c=i+""+d;return 0===i&&0===d&&(c="12"),!0===t?c+":"+s+" p.m.":c+":"+s+" a.m."}function rellenoMesasDisponibles(e,t){$.post("PEDRellenoMesasAJAX",{mesaActua:t},function(o){let n=o.split(";"),a="";for(var r=0;r<n.length;r++)a+=`<option value="${n[r]}">Mesa ${n[r]}</option>`;$("#"+e+"MesaPedidos").html(a),"actua"===e&&(document.getElementById("actuaMesaPedidos").value=t)})}function cambioCategoria(e,t){$("#"+t+"CJSProductosPedidos select").hide();var o=$("#"+t+"CJSProductosPedidos #"+t+e+"C"),n=document.getElementById(t+e+"C");o.show(),validacionProducto(n,t)}function validacionProducto(e,t){var o=e,n=o.value.split(";");$.ajax({url:"PEDProductoDisponibleAJAX",type:"POST",data:{idProducto:n[0]},dataType:"json",success:function(e){let n=e[0].insumos,a=e[0].detallesProductos,r=!0;for(var d=0;d<a.length;d++){for(var i=0;i<n.length;i++)if(n[i].idInsumos===a[d].idInsumoNecesario&&n[i].cantidad<a[d].cantidadInsumo*parseInt(document.getElementById(t+"CantidadPedidos").value)){r=!1;break}if(!r)break}r||("1"===document.getElementById(t+"CantidadPedidos").value?$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"Producto Agotado!",content:"El producto <b>"+o.options[o.selectedIndex].text+"</b> no tiene suficientes insumos para su producción.",type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{tryAgain:{text:"Entiendo",btnClass:"btn-red",action:function(){o.options[o.selectedIndex].remove(),document.getElementById(t+"CantidadPedidos").value=1,document.getElementById(t+"ObservacionPedidos").value=""}}}}):$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"Insumos Insuficientes!",content:"Debe ingresar una cantidad menor para el producto <b>"+o.options[o.selectedIndex].text+"</b>, porque no hay suficientes insumos para la producción.",type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{tryAgain:{text:"Entiendo",btnClass:"btn-red",action:function(){document.getElementById(t+"CantidadPedidos").value=1}}}}))}})}function validacionCantidad(e,t){"0"===t||0===t?e.value=1:t.length>3&&(e.value=t.substring(0,t.length-1))}function agregarProductoPedido(e){var t=localStorage,o=document.getElementById(e+"CategoriaPedidos"),n=o.value,a=o.options[o.selectedIndex].text,r=document.getElementById(e+n+"C"),d=r.value.split(";");if(r.value.length>0){var i=r.options[r.selectedIndex].text,s=r.options[r.selectedIndex],c=document.getElementById(e+"CantidadPedidos").value,u=parseInt(d[2])*c,l=document.getElementById(e+"ObservacionPedidos").value;0===l.length&&(l="Vacio"),$("html,body").css("overflow","hidden"),$("#"+e+"VentanaUploadPedidos").css("display","flex"),$.post("PEDGastoInsumosAJAX",{idProducto:d[0],cantidadProductos:c,operacion:"-"},function(o){if("success"===o){if("actua"===e){for(var r=parseInt(t.getItem("actuaCantProductosP")),m=!1,I=1;I<=r;I++){var g=document.getElementById("actua"+I+"InputPP").value.split(";");if(g[0]===d[0]){r=I,m=!0;break}}if(!m){r+=1,t.setItem("actuaCantProductosP",r);var v=`\n                            <div class="input-group inpDesa">\n                                <input type="text" class="form-control" name="actua${r}InputPP" id="actua${r}InputPP">\n                            </div>`;document.getElementById("actuaCAJProductosPedidos").insertAdjacentHTML("beforeend",v)}var p=document.getElementById("actuaSubtotalPedidos");p.value=formatNumberReturn(parseInt(resetNumberReturn(p.value))+parseInt(u)),$(".actuaTablaListarProductosPedido").DataTable().row.add([a,i,`<div class="td-espaciado">\n                            <button type="button" id="${e+r}BtnMenosRowPP" onclick="cantProductoPedido('resta', '${r}', '${e}')" class="btn btn-warning"><span class="glyphicon glyphicon-minus"></span></button>\n                                <span id="${e+r}CantRowPP">${c}</span>\n                            <button type="button" id="${e+r}BtnMasRowPP" onclick="cantProductoPedido('suma', '${r}', '${e}')" class="btn btn-warning"><span class="glyphicon glyphicon-plus"></span></button>\n                        </div>`,`<span id="${e+r}SubtotalRowPP">`+formatNumberReturn(u)+"</span>",`<div class="td-espaciado">\n                            <button type="button" class="btn btn-info" data-toggle="modal" data-target="#productoPedidoVerModal" onClick="productoPedidoVerModal('${CifrarASCII(a)}', '${CifrarASCII(i)}', '${d[2]}', '${d[1]}', '${r}', '${e}')"><span class="glyphicon glyphicon-eye-open"></span> Ver</button>\n                            <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#productoPedidoAModal" onClick="productoPedidoActualizarModal('${r}', 'actuaV', '${e}')"><span class="glyphicon glyphicon-edit"></span> Editar</button>\n                            <button type="button" onclick="sacarProductoPedido(this, '${r}', '${e+n}C', '${CifrarASCII(i)}', '${e}')" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Sacar</button>\n                        </div>`]).draw(),document.getElementById("actua"+r+"InputPP").value=d[0]+";"+d[1]+";"+d[2]+";"+c+";"+CifrarASCII(l)+";"+u+";X;Nuevo;Y"}else{r=parseInt(t.getItem(e+"CantProductosP"))+1,t.setItem("regCantProductosP",r);v=`\n                        <div class="input-group inpDesa">\n                            <input type="text" class="form-control" name="${e+r}InputPP" id="${e+r}InputPP">\n                        </div>`,p=document.getElementById(e+"SubtotalPedidos");p.value=formatNumberReturn(parseInt(resetNumberReturn(p.value))+parseInt(u)),document.getElementById(e+"CAJProductosPedidos").insertAdjacentHTML("beforeend",v),$("."+e+"TablaListarProductosPedido").DataTable().row.add([a,i,`<div class="td-espaciado">\n                            <button type="button" id="${e+r}BtnMenosRowPP" onclick="cantProductoPedido('resta', '${r}', '${e}')" class="btn btn-warning"><span class="glyphicon glyphicon-minus"></span></button>\n                                <span id="${e+r}CantRowPP">${c}</span>\n                            <button type="button" id="${e+r}BtnMasRowPP" onclick="cantProductoPedido('suma', '${r}', '${e}')" class="btn btn-warning"><span class="glyphicon glyphicon-plus"></span></button>\n                        </div>`,`<span id="${e+r}SubtotalRowPP">`+formatNumberReturn(u)+"</span>",`<div class="td-espaciado">\n                            <button type="button" class="btn btn-info" data-toggle="modal" data-target="#productoPedidoVerModal" onClick="productoPedidoVerModal('${CifrarASCII(a)}', '${CifrarASCII(i)}', '${d[2]}', '${d[1]}', '${r}', '${e}')"><span class="glyphicon glyphicon-eye-open"></span> Ver</button>\n                            <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#productoPedidoAModal" onClick="productoPedidoActualizarModal('${r}', 'actuaV', '${e}')"><span class="glyphicon glyphicon-edit"></span> Editar</button>\n                            <button type="button" onclick="sacarProductoPedido(this, '${r}', '${e+n}C', '${CifrarASCII(i)}', '${e}')" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Sacar</button>\n                        </div>`]).draw(),document.getElementById("reg"+r+"InputPP").value=d[0]+";"+d[1]+";"+d[2]+";"+c+";"+CifrarASCII(l)+";"+u}document.getElementById(e+"CantidadPedidos").value=1,document.getElementById(e+"ObservacionPedidos").value="",s.remove(),$("html,body").css("overflow","auto"),$("#"+e+"VentanaUploadPedidos").css("display","none")}else"1"===document.getElementById(e+"CantidadPedidos").value?$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"Producto Agotado!",content:"El producto <b>"+i+"</b> no tiene suficientes insumos para su producción.",type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{tryAgain:{text:"Entiendo",btnClass:"btn-red",action:function(){s.remove(),document.getElementById(e+"CantidadPedidos").value=1,document.getElementById(e+"ObservacionPedidos").value=""}}}}):$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"Insumos Insuficientes!",content:"Debe ingresar una cantidad menor para el producto <b>"+i+"</b>, porque no hay suficientes insumos para la producción.",type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{tryAgain:{text:"Entiendo",btnClass:"btn-red",action:function(){document.getElementById(e+"CantidadPedidos").value=1}}}});$("html,body").css("overflow","auto"),$("#"+e+"VentanaUploadAGGPedidos").css("display","none")})}else $("#"+e+"BtnAgregarPedidos").attr("disabled","")}function sacarProductoPedido(e,t,o,n,a){var r=document.getElementById(a+t+"InputPP").value.split(";"),d='<option value="'+r[0]+";"+r[1]+";"+r[2]+'">'+DescifrarASCII(n)+"</option>";$("html,body").css("overflow","hidden"),$("#"+a+"VentanaUploadPedidos").css("display","flex"),$.post("PEDGastoInsumosAJAX",{idProducto:r[0],cantidadProductos:r[3],operacion:"+"}),document.getElementById(o).insertAdjacentHTML("beforeend",d);var i=document.getElementById(a+"SubtotalPedidos");i.value=formatNumberReturn(parseInt(resetNumberReturn(i.value))-parseInt(r[5])),"reg"===a?($("#reg"+t+"InputPP").parent("div").remove(),$(".regTablaListarProductosPedido").DataTable().row($(e).parents("tr")).remove().draw(!1)):(document.getElementById("actua"+t+"InputPP").value=r[0]+";"+r[1]+";"+r[2]+";"+r[3]+";"+r[4]+";"+r[5]+";"+r[6]+";"+r[7]+";N",$(".actuaTablaListarProductosPedido").DataTable().row($(e).parents("tr")).remove().draw(!1)),$("html,body").css("overflow","auto"),$("#"+a+"VentanaUploadPedidos").css("display","none")}function cantProductoPedido(e,t,o){var n=document.getElementById(o+t+"InputPP").value.split(";");if("resta"===e)if(parseInt(n[3])>1){var a;a="actua"===o?n[0]+";"+n[1]+";"+n[2]+";"+(parseInt(n[3])-1)+";"+n[4]+";"+(parseInt(n[5])-parseInt(n[2]))+";"+n[6]+";"+n[7]+";"+n[8]:n[0]+";"+n[1]+";"+n[2]+";"+(parseInt(n[3])-1)+";"+n[4]+";"+(parseInt(n[5])-parseInt(n[2])),$("#"+o+t+"BtnMasRowPP").attr("disabled",""),$("#"+o+t+"BtnMenosRowPP").attr("disabled",""),$.post("PEDGastoInsumosAJAX",{idProducto:n[0],cantidadProductos:"1",operacion:"+"});var r=document.getElementById(o+"SubtotalPedidos");r.value=formatNumberReturn(parseInt(resetNumberReturn(r.value))-parseInt(n[2])),document.getElementById(o+t+"CantRowPP").innerText=parseInt(n[3])-1,document.getElementById(o+t+"InputPP").value=a,document.getElementById(o+t+"SubtotalRowPP").innerText=formatNumberReturn(parseInt(n[5])-parseInt(n[2])),$("#"+o+t+"BtnMasRowPP").removeAttr("disabled"),$("#"+o+t+"BtnMenosRowPP").removeAttr("disabled")}else $("#"+o+t+"BtnMenosRowPP").attr("disabled","");else parseInt(n[3])<99?($("#"+o+t+"BtnMasRowPP").attr("disabled",""),$("#"+o+t+"BtnMenosRowPP").attr("disabled",""),$.post("PEDGastoInsumosAJAX",{idProducto:n[0],cantidadProductos:"1",operacion:"-"},function(e){if("success"===e){var a;a="actua"===o?n[0]+";"+n[1]+";"+n[2]+";"+(parseInt(n[3])+1)+";"+n[4]+";"+(parseInt(n[5])+parseInt(n[2]))+";"+n[6]+";"+n[7]+";"+n[8]:n[0]+";"+n[1]+";"+n[2]+";"+(parseInt(n[3])+1)+";"+n[4]+";"+(parseInt(n[5])+parseInt(n[2]));var r=document.getElementById(o+"SubtotalPedidos");r.value=formatNumberReturn(parseInt(resetNumberReturn(r.value))+parseInt(n[2])),document.getElementById(o+t+"CantRowPP").innerText=parseInt(n[3])+1,document.getElementById(o+t+"InputPP").value=a,document.getElementById(o+t+"SubtotalRowPP").innerText=formatNumberReturn(parseInt(n[5])+parseInt(n[2])),$("#"+o+t+"BtnMasRowPP").removeAttr("disabled"),$("#"+o+t+"BtnMenosRowPP").removeAttr("disabled")}else $.confirm({animation:"rotateX",closeAnimation:"zoom",title:"Insumos Insuficientes!",content:"El producto ya no tiene más insumos para su producción.",type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{tryAgain:{text:"Entiendo",btnClass:"btn-red",action:function(){$("#"+o+t+"BtnMasRowPP").attr("disabled","")}}}})})):$("#"+o+t+"BtnMasRowPP").attr("disabled","")}function registrarPedido(e){if("actua"===e){for(var t=parseInt(localStorage.getItem("actuaCantProductosP")),o=!1,n=1;n<=t;n++){var a=document.getElementById("actua"+n+"InputPP").value.split(";");if("Y"===a[8]){o=!0;break}}if(o){$("#actuaSubtotalPedidos").removeAttr("disabled");var r='\n                <div class="input-group inpDesa">\n                    <input type="text" class="form-control" name="actuaNumsInputPP" id="actuaNumsInputPP">\n                </div>';document.getElementById("actuaCAJProductosPedidos").insertAdjacentHTML("beforeend",r),document.getElementById("actuaNumsInputPP").value=localStorage.getItem("actuaCantProductosP"),document.getElementById("actuaFormPedidos").action="PedidoA",document.getElementById("actuaFormPedidos").submit()}else console.log("Holi"),$("#actuaSpanWarningPedidos").show(),$("#actuaSpanWarningPedidos").css("margin-top","-2px"),$("#actuaSpanWarningPedidos").css("display","block"),$("#actuaSpanWarningPedidos").css("font-size","16px"),$("#actuaSpanWarningPedidos").css("letter-spacing",".1.5pt"),$("#actuaSpanWarningPedidos").parent("button").css("background","#E06666")}else{var d=document.getElementById(e+"CAJProductosPedidos").innerHTML;if(d.includes("input-group")){$("#regSubtotalPedidos").removeAttr("disabled");r='\n                <div class="input-group inpDesa">\n                    <input type="text" class="form-control" name="regNumsInputPP" id="regNumsInputPP">\n                </div>';document.getElementById("regCAJProductosPedidos").insertAdjacentHTML("beforeend",r),document.getElementById("regNumsInputPP").value=localStorage.getItem("regCantProductosP"),document.getElementById("regFormPedidos").action="Pedido",document.getElementById("regFormPedidos").submit()}else $("#regSpanWarningPedidos").show(),$("#regSpanWarningPedidos").css("margin-top","-2px"),$("#regSpanWarningPedidos").css("display","block"),$("#regSpanWarningPedidos").css("font-size","16px"),$("#regSpanWarningPedidos").css("letter-spacing",".1.5pt"),$("#regSpanWarningPedidos").parent("button").css("background","#E06666")}}function resetNumberReturn(e){var t=e.toString().replace(/\./g,"");return t}function productoPedidoVerModal(e,t,o,n,a,r){$(".collapse").collapse("hide");var d=document.getElementById(r+a+"InputPP").value.split(";");document.getElementById("verCategoriaProductoPedido").innerText=DescifrarASCII(e),document.getElementById("verProductoProductoPedido").innerText=DescifrarASCII(t),document.getElementById("verCantidadProductoPedido").innerText=d[3],document.getElementById("verSubtotalProductoPedido").innerText=formatNumberReturn(d[5]),"Vacio"===DescifrarASCII(d[4])?document.getElementById("verObservacionProductoPedido").innerText="Sin observación.":document.getElementById("verObservacionProductoPedido").innerText=DescifrarASCII(d[4]),document.getElementById("verCateProProductoPedido").innerText=DescifrarASCII(e),document.getElementById("verNomProProductoPedido").innerText=DescifrarASCII(t),document.getElementById("verPreProProductoPedido").innerText=formatNumberReturn(o),"Vacio"===DescifrarASCII(n)?document.getElementById("verDesProProductoPedido").innerText="Sin descripción.":document.getElementById("verDesProProductoPedido").innerText=DescifrarASCII(n)}function productoPAggVerModal(e){var t=document.getElementById(e+"CategoriaPedidos"),o=t.value,n=t.options[t.selectedIndex].text,a=document.getElementById(e+o+"C");if(a.value.length>0){var r=a.value.split(";"),d=a.options[a.selectedIndex].text;$("#productoPAggVerModal").modal("toggle"),document.getElementById("verCategoriaProductoPAgg").innerText=n,document.getElementById("verProductoProductoPAgg").innerText=d,document.getElementById("verPrecioProductoPAgg").innerText="$ "+formatNumberReturn(r[2]),"Vacio"===DescifrarASCII(r[1])?document.getElementById("verDescripcionProductoPAgg").innerText="Sin descripción.":document.getElementById("verDescripcionProductoPAgg").innerText=DescifrarASCII(r[1])}else $.confirm({animation:"rotateX",closeAnimation:"zoom",title:"No hay Producto!",content:"Debe elegir un producto para ver su información.",type:"orange",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{tryAgain:{text:"Entiendo",btnClass:"btn-orange",action:function(){}}}})}function productoPedidoActualizarModal(e,t,o){var n,a,r=document.getElementById(o+e+"InputPP").value.split(";");"actuaV"===t?($("#"+o+"BtnAProductoPedido").attr("onClick",'productoPedidoActualizarModal("'+e+'", "actuaA", "'+o+'")'),$("#productoPedidoAModal textarea").css("color","#555555"),"Vacio"!==DescifrarASCII(r[4])?document.getElementById("actuaObservacionProductoPedido").value=DescifrarASCII(r[4]):document.getElementById("actuaObservacionProductoPedido").value=""):(n=""===document.getElementById("actuaObservacionProductoPedido").value?CifrarASCII("Vacio"):CifrarASCII(document.getElementById("actuaObservacionProductoPedido").value),a="actua"===o?r[0]+";"+r[1]+";"+r[2]+";"+r[3]+";"+n+";"+r[5]+";"+r[6]+";"+r[7]+";"+r[8]:r[0]+";"+r[1]+";"+r[2]+";"+r[3]+";"+n+";"+r[5],document.getElementById(o+e+"InputPP").value=a)}function pedidosVer(e,t,o,n,a,r){"Gerente"===e||"Cajero"===e?($("#cajGerentePedidos").show(),$("#hrGerentePedidos").show(),$("#cajClienteMeseroPedidos").hide(),document.getElementById("verMeseroPedidos").innerText=DescifrarASCII(t),o.length>0?document.getElementById("verClienteGerentePedidos").innerText=DescifrarASCII(o):document.getElementById("verClienteGerentePedidos").innerText="No tiene"):($("#cajGerentePedidos").hide(),$("#hrGerentePedidos").hide(),$("#cajClienteMeseroPedidos").show(),o.length>0?document.getElementById("verClienteMeseroPedidos").innerText=DescifrarASCII(o):document.getElementById("verClienteMeseroPedidos").innerText="No tiene"),document.getElementById("verMesaPedidos").innerText="Mesa "+n,document.getElementById("verSubtotalPedidos").innerText=formatNumberReturn(a),r=DescifrarASCII(r);var d=r.split(":");$(".tablaListarProductos").DataTable().clear().draw();for(var i=0;i<d.length;i++){var s=d[i].split("-"),c=s[0].split(";"),u=s[1].split(";"),l=s[2].split(";");$(".tablaListarProductos").DataTable().row.add([DescifrarASCII(c[1]),DescifrarASCII(u[1]),l[1],"Vacio"===DescifrarASCII(l[2])?"No tiene":DescifrarASCII(l[2]),formatNumberReturn(l[3])]).draw()}}function pedidosActualizar(e,t,o,n){$.ajax({url:"PEDRellenoCartaAJAX",type:"GET",dataType:"json",success:function(e){let t=e[0].categorias,o=e[0].productos,n="",a='<span class="input-group-addon">Producto:</span>';for(var r=0;r<t.length;r++)n+=`<option value="${t[r].idCategorias}">${t[r].nombre}</option>`;for(r=0;r<t.length;r++){a+=`<select required onchange="validacionProducto(this, 'actua'); $('#actuaBtnAgregarPedidos').removeAttr('disabled')" class="form-control" id="actua${t[r].idCategorias}C">`;for(var d=0;d<o.length;d++)o[d].idCategoria===t[r].idCategorias&&(a+=`<option value="${o[d].idProductos+";"+o[d].descripcion+";"+o[d].precio}">${o[d].nombre}</option>`);a+="</select>"}$("#actuaCategoriaPedidos").html(n),$("#actuaCJSProductosPedidos").html(a),$("#actuaCJSProductosPedidos select").hide(),$("#actuaCJSProductosPedidos #actua"+document.getElementById("actuaCategoriaPedidos").value+"C").show()}}),rellenoMesasDisponibles("actua",t),$("#actuaSpanWarningPedidos").hide(),document.getElementById("actuaIDPedido").value=e,document.getElementById("actuaSubtotalPedidos").value=formatNumberReturn(o),document.getElementById("actuaCantidadPedidos").value=1,localStorage.setItem("actuaCantProductosP","0");var a=localStorage;n=DescifrarASCII(n);var r=n.split(":");document.getElementById("actuaCAJProductosPedidos").innerHTML="",$(".actuaTablaListarProductosPedido").DataTable().clear().draw();for(var d=0;d<r.length;d++){var i=r[d].split("-"),s=i[0].split(";"),c=i[1].split(";"),u=i[2].split(";"),l=parseInt(a.getItem("actuaCantProductosP"))+1;a.setItem("actuaCantProductosP",l);var m=`\n            <div class="input-group inpDesa">\n                <input type="text" class="form-control" name="actua${l}InputPP" id="actua${l}InputPP">\n            </div>`;document.getElementById("actuaCAJProductosPedidos").insertAdjacentHTML("beforeend",m),$(".actuaTablaListarProductosPedido").DataTable().row.add([DescifrarASCII(s[1]),DescifrarASCII(c[1]),`<div class="td-espaciado">\n                <button type="button" id="actua${l}BtnMenosRowPP" onclick="cantProductoPedido('resta', '${l}', 'actua')" class="btn btn-warning"><span class="glyphicon glyphicon-minus"></span></button>\n                    <span id="actua${l}CantRowPP">${u[1]}</span>\n                <button type="button" id="actua${l}BtnMasRowPP" onclick="cantProductoPedido('suma', '${l}', 'actua')" class="btn btn-warning"><span class="glyphicon glyphicon-plus"></span></button>\n            </div>`,`<span id="actua${l}SubtotalRowPP">`+formatNumberReturn(u[3])+"</span>",`<div class="td-espaciado">\n                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#productoPedidoVerModal" onClick="productoPedidoVerModal('${s[1]}', '${c[1]}', '${c[3]}', '${c[2]}', '${l}', 'actua')"><span class="glyphicon glyphicon-eye-open"></span> Ver</button>\n                <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#productoPedidoAModal" onClick="productoPedidoActualizarModal('${l}', 'actuaV', 'actua')"><span class="glyphicon glyphicon-edit"></span> Editar</button>\n                <button type="button" onclick="sacarProductoPedido(this, '${l}', 'actua${s[0]}C', '${c[1]}', 'actua')" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Sacar</button>\n            </div>`]).draw(),document.getElementById("actua"+l+"InputPP").value=c[0]+";"+c[2]+";"+c[3]+";"+u[1]+";"+u[2]+";"+u[3]+";"+u[0]+";Viejo;Y";var I=document.getElementById("actua"+s[0]+"C"),g=$("#actua"+s[0]+"C").children('option[value="'+c[0]+";"+c[2]+";"+c[3]+'"]').index(),v=I.options[g];v.remove()}$("#pedidosListar").hide(),$("#pedidosActualizar").show()}function tablasProductosCocinero(e){e=e.split(":");for(var t=0;t<e.length;t++){var o=e[t].split("-"),n=o[0].split(";");$(".tablaListarProductoCocinero"+n[0]).DataTable({order:[[0,"asc"]],pageLength:5,searching:!1,language:{sProcessing:"Procesando...",sLengthMenu:"Mostrar: _MENU_",sZeroRecords:"No se encontraron resultados.",sEmptyTable:"Ningún pedido disponible.",sInfo:"Mostrando del _START_ al _END_ de _TOTAL_ pedidos",sInfoEmpty:"Mostrando del 0 al 0 de 0 pedidos",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente.",sSortDescending:": Activar para ordenar la columna de manera descendente."}}})}$(".owl-carousel").owlCarousel({margin:10,nav:!0,dots:!0,autoWidth:!0,responsive:{0:{items:1},600:{items:3},1000:{items:5}}})}function estadoProductoCocinero(e,t,o){if("L"===o){var n=localStorage,a=n.getItem("ProductosCocinero");a=a.substring(0,a.length-1),a=a.split("-");var r=!0;n.setItem("ProductosCocinero","");for(var d=0;d<a.length;d++){var i=a[d].split(";");i[0]===t?n.setItem("ProductosCocinero",n.getItem("ProductosCocinero")+i[0]+";Y-"):("N"===i[1]&&(r=!1),n.setItem("ProductosCocinero",n.getItem("ProductosCocinero")+i[0]+";"+i[1]+"-"))}r?$("#pedidosBtnListoCocinero").removeAttr("disabled"):$("#pedidosBtnListoCocinero").attr("disabled",""),$(e).removeClass("btn-danger"),$(e).addClass("btn-success"),$(e).text("Descartar.."),$(e).attr("onclick","estadoProductoCocinero(this, '"+t+"', 'D')"),$("#"+t+"ProductoT").removeClass("danger"),$("#"+t+"ProductoT").addClass("success")}else{n=localStorage,a=n.getItem("ProductosCocinero");a=a.substring(0,a.length-1),a=a.split("-"),n.setItem("ProductosCocinero","");for(d=0;d<a.length;d++){i=a[d].split(";");i[0]===t?n.setItem("ProductosCocinero",n.getItem("ProductosCocinero")+i[0]+";N-"):n.setItem("ProductosCocinero",n.getItem("ProductosCocinero")+i[0]+";"+i[1]+"-")}$("#pedidosBtnListoCocinero").attr("disabled",""),$(e).removeClass("btn-success"),$(e).addClass("btn-danger"),$(e).text("¡Listo!"),$(e).attr("onclick","estadoProductoCocinero(this, '"+t+"', 'L')"),$("#"+t+"ProductoT").removeClass("success"),$("#"+t+"ProductoT").addClass("danger")}}function limiteImporte(e){formatNumber(e.value,"gfactImporteClientePedido","reg"),e.value.length>0&&$("#gfactNumClientePedido").val().length>0&&parseInt(resetNumberReturn(e.value))>=parseInt(resetNumberReturn($("#gfactTotalPedido").text()))?$("#gfactBtnGenerarPedido").removeAttr("disabled"):$("#gfactBtnGenerarPedido").attr("disabled","")}function buscarCliente(e){e.length>0?($.post("PEDBusquedaClienteAJAX",{cedula:e},function(e){if("no"===e)$("#gfactIDClientePedido").val(0),$("#gfactBusquedaClientePedido").val("Cliente no Encontrado");else{var t=e.split(";");$("#gfactIDClientePedido").val(t[1]),$("#gfactBusquedaClientePedido").val(t[0])}}),$("#gfactImporteClientePedido").val().length>0&&parseInt(resetNumberReturn($("#gfactImporteClientePedido").val()))>=parseInt(resetNumberReturn($("#gfactTotalPedido").text()))?$("#gfactBtnGenerarPedido").removeAttr("disabled"):$("#gfactBtnGenerarPedido").attr("disabled","")):($("#gfactIDClientePedido").val(0),$("#gfactBusquedaClientePedido").val("Cliente no Encontrado"),$("#gfactBtnGenerarPedido").attr("disabled",""))}function facturarPedido(e,t,o,n,a,r,d){"ver"===n?($("#gfactBtnGenerarPedido").attr("onclick","facturarPedido('"+e+"', '"+t+"', '"+o+"', 'generar', '"+d+"')"),document.getElementById("gfactSubtotalPedido").innerText=formatNumberReturn(a),document.getElementById("gfactTotalPedido").innerText=formatNumberReturn(r)):($("#pedidoFacturaGModal").modal("toggle"),$("html,body").css("overflow","hidden"),$(".pedidosGenerandoFactura").css("display","flex"),$.post("FacturaG",{numMesa:e,idPedido:t,nomMesero:o,idCliente:$("#gfactIDClientePedido").val(),nomCliente:$("#gfactBusquedaClientePedido").val(),cedulaCliente:$("#gfactNumClientePedido").val(),importe:resetNumberReturn($("#gfactImporteClientePedido").val())},function(e){e.length>0?(window.open(d+"ArchivosSistema/Facturas/"+e,"Factura","width=500, height=500"),window.location="Pedidos?mensaje=YFacturar"):console.log("Fallo la generación de la Factura."),$("html,body").css("overflow","auto"),$(".pedidosGenerandoFactura").css("display","none")}))}function verFactura(e,t){window.open(t+"ArchivosSistema/Facturas/"+e+".pdf","Factura","width=500, height=500")}function facturasVer(e,t,o,n,a,r,d,i){document.getElementById("verMeseroFacturas").innerText=DescifrarASCII(e),document.getElementById("verCajeroFacturas").innerText=DescifrarASCII(t),document.getElementById("verClienteFacturas").innerText=DescifrarASCII(o),document.getElementById("verMesaFacturas").innerText="Mesa "+n,document.getElementById("verImporteFacturas").innerText=formatNumberReturn(a),document.getElementById("verCambioFacturas").innerText=formatNumberReturn(parseInt(a)-parseInt(d)),document.getElementById("verSubtotalFacturas").innerText=formatNumberReturn(r),document.getElementById("verTotalFacturas").innerText=formatNumberReturn(d),i=DescifrarASCII(i);var s=i.split(":");$(".tablaListarProductos").DataTable().clear().draw();for(var c=0;c<s.length;c++){var u=s[c].split("-"),l=u[0].split(";"),m=u[1].split(";"),I=u[2].split(";");$(".tablaListarProductos").DataTable().row.add([DescifrarASCII(l[1]),DescifrarASCII(m[1]),I[1],"Vacio"===DescifrarASCII(I[2])?"No tiene":DescifrarASCII(I[2]),formatNumberReturn(I[3])]).draw()}}function cambioDeSelectCarrusel(e,t){""!==e.value&&("Empresarial"===e.value?($("#"+t+"DirigidoAEmpresarialCarrusel").show(),$("#"+t+"DirigidoAPublicoCarrusel").hide()):($("#"+t+"DirigidoAEmpresarialCarrusel").hide(),$("#"+t+"DirigidoAPublicoCarrusel").show()))}function validarFileCarrusel(e,t){var o=[".png",".bmp",".jpg",".jpeg",".svg"],n=4,a=e.value,r=e.value.lastIndexOf("."),d=a.slice(r,a.length);e.files[0].size/1048576>n?(document.getElementById(t+"HayImagenCarrusel").value="N",document.getElementById(e.id).value="",document.getElementById(e.id).style.background="#E06666",document.getElementById(e.id).style.color="#fff",$("#"+t+"BtnCarrusel").attr("disabled","")):-1===o.indexOf(d)?(document.getElementById(t+"HayImagenCarrusel").value="N",document.getElementById(e.id).value="",document.getElementById(e.id).style.background="#E06666",document.getElementById(e.id).style.color="#fff",$("#"+t+"BtnCarrusel").attr("disabled","")):($("#"+t+"BtnCarrusel").removeAttr("disabled"),document.getElementById(e.id).style.background="#fff",document.getElementById(e.id).style.color="#555",document.getElementById(t+"HayImagenCarrusel").value="Y")}function carruselesVerModal(e,t,o,n,a){document.getElementById("verTipoCarrusel").innerText="Publico"===t?"Público":t,document.getElementById("verDirigidoACarrusel").innerText=o,"AdminS"===e?($("#verDivAdminSCarrusel").show(),$("#verHrAdminSCarrusel").show(),document.getElementById("verNombreImgCarrusel").innerText=DescifrarASCII(n),document.getElementById("verSedeCarrusel").innerText=DescifrarASCII(a)):($("#verDivAdminSCarrusel").hide(),$("#verHrAdminSCarrusel").hide()),document.getElementById("verImgCarrusel").innerHTML='<img alt="'+DescifrarASCII(n)+'" src="ArchivosSistema/Carruseles/'+DescifrarASCII(a)+"/"+DescifrarASCII(n)+'">'}function carruselesActualizarModal(e,t,o){$("#carruselesAGerenteModal input,select,textarea").css("color","#555555"),document.getElementById("actuaIDCarrusel").value=e,document.getElementById("actuaTipoCarrusel").value=t,
"Empresarial"===t?($("#actuaDirigidoAEmpresarialCarrusel").show(),$("#actuaDirigidoAPublicoCarrusel").hide(),document.getElementById("actuaDirigidoAEmpresarialCarrusel").value=o):($("#actuaDirigidoAEmpresarialCarrusel").hide(),$("#actuaDirigidoAPublicoCarrusel").show(),document.getElementById("actuaDirigidoAPublicoCarrusel").value=o)}function carruselesCambioModal(e){document.getElementById("cambArchivoCarrusel").value="",document.getElementById("cambArchivoCarrusel").style.background="#fff",document.getElementById("cambArchivoCarrusel").style.color="#55555",document.getElementById("cambIDCarrusel").value=e}function promocionesVerModal(e,t,o,n){document.getElementById("verProductoPromocion").innerText=DescifrarASCII(e),document.getElementById("verFchCaducidadPromocion").innerText=estructurarFecha("dd",t)+" del "+estructurarFecha("mm",t)+" de "+estructurarFecha("aa",t),document.getElementById("verPorcentajePromocion").innerText=o+" %";var a=formatNumberReturn(n-n*o/100);document.getElementById("verPrecioPorcenPromocion").innerHTML="Precio Oficial <b>-></b> "+formatNumberReturn(n)+"<br>Precio con Descuento <b>-></b> "+a}function promocionesActualizarModal(e,t,o){$("#promocionesAGerenteModal input,select,textarea").css("color","#555555"),document.getElementById("actuaIDPromocion").value=e,document.getElementById("actuaPorcentajePromocion").value=t,document.getElementById("actuaFechaCaducidadPromocion").value=o}function validacionExistenciaInsumosP(e){var t=document.getElementById(e+"InsumosPProducto");if(t.value.length>0){for(var o=t.value.substring(0,t.value.length-1),n=o.split(";"),a=0,r=0;r<n.length;r++)if("actua"===e){var d=n[r].split("-");"N"!==d[5]&&a++}else"86S97S99S105S111"!==n[r]&&a++;a>0?$("#"+e+"BtnProducto").removeAttr("disabled"):$("#"+e+"BtnProducto").attr("disabled","")}else $("#"+e+"BtnProducto").attr("disabled","")}function autocompleteInsumosProducto(e){var t=document.getElementById(e+"InsumosProducto");if(t.value.length>0){var o=t.value.split(";");document.getElementById(e+"UnidadMInsumoProducto").value=o[1]}else document.getElementById(e+"UnidadMInsumoProducto").value="Seleccioné un Insumo..."}function agregarInsumoProducto(e){var t=document.getElementById(e+"InsumosPProducto"),o=document.getElementById(e+"InsumosProducto"),n=document.getElementById(e+"CantidadInsumosProducto");if(n.value.length>0&&o.value.length>0){o.style.background="#fff",n.style.background="#fff";var a,r,d,i,s=o.value.split(";"),c=o.options[o.selectedIndex].text,u=o.options[o.selectedIndex],l=0;if("reg"===e)t.value.length>0&&(a=t.value.substring(0,t.value.length-1),r=a.split(";"),l=r.length),t.value+=s[0]+"-"+CifrarASCII(c)+"-"+s[1]+"-"+n.value+";";else if(t.value.length>0){a=t.value.substring(0,t.value.length-1),r=a.split(";");var m="No";l=r.length;for(var I=0;I<r.length;I++)d=r[I].split("-"),d[1]===s[0]&&(m="Si",l=I);if("No"===m)t.value+="X-"+s[0]+"-"+CifrarASCII(c)+"-"+s[1]+"-"+n.value+"-Y-Nuevo;";else{t.value="";for(I=0;I<r.length;I++)l===I?(d=r[I].split("-"),t.value+=d[0]+"-"+d[1]+"-"+d[2]+"-"+d[3]+"-"+n.value+"-Y-"+d[6]+";"):t.value+=r[I]+";"}}else t.value+="0-"+s[0]+"-"+CifrarASCII(c)+"-"+s[1]+"-"+n.value+"-Y-Nuevo;";i="reg"===e?"Reg":"Actua",$(".tablaListarInsumosProductos"+i).DataTable().row.add([c,`<div class="td-espaciado">\n                <button type="button" id="${l}BtnMenosRowIP${e}" onclick="cantInsumoProducto('resta', '${l}', '${e}')" class="btn btn-warning"><span class="glyphicon glyphicon-minus"></span></button>\n                    <span>\n                        <span id="${l}CantRowIP${e}">${n.value}</span>\n                        <span>${" "+s[1]}</span>\n                    </span>\n                <button type="button" id="${l}BtnMasRowIP${e}" onclick="cantInsumoProducto('suma', '${l}', '${e}')" class="btn btn-warning"><span class="glyphicon glyphicon-plus"></span></button>\n            </div>`,`<div class="td-espaciado">\n                <button type="button" id="${l}BtnRemoveRowIP${e}" onclick="removerInsumoProducto('${l}', '${e}')" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Remover</button>\n            </div>`]).draw(),n.value="",u.remove(),autocompleteInsumosProducto(e),validacionExistenciaInsumosP(e),o.focus()}else o.style.background="#E06666",n.style.background="#E06666"}function limpiarInsumosProducto(e){var t=document.getElementById(e+"InsumosPProducto");if(t.value.length>0){for(var o,n=t.value.substring(0,t.value.length-1),a=n.split(";"),r=0,d=0;d<a.length;d++)"actua"===e?(o=a[d].split("-"),"N"!==o[5]&&r++):"86S97S99S105S111"!==a[d]&&r++;if(r>0){for(d=0;d<a.length;d++)"actua"===e?(o=a[d].split("-"),"N"!==o[5]&&removerInsumoProducto(d,e)):"86S97S99S105S111"!==a[d]&&removerInsumoProducto(d,e);"reg"===e&&(t.value="")}else document.getElementById(e+"InsumosProducto").style.background="#E06666",document.getElementById(e+"CantidadInsumosProducto").style.background="#E06666"}else document.getElementById(e+"InsumosProducto").style.background="#E06666",document.getElementById(e+"CantidadInsumosProducto").style.background="#E06666"}function removerInsumoProducto(e,t){var o,n,a=document.getElementById(t+"InsumosPProducto"),r=a.value.substring(0,a.value.length-1),d=r.split(";"),i=d[parseInt(e)].split("-");o="reg"===t?'<option value="'+i[0]+";"+i[2]+'">'+DescifrarASCII(i[1])+"</option>":'<option value="'+i[1]+";"+i[3]+'">'+DescifrarASCII(i[2])+"</option>",document.getElementById(t+"InsumosProducto").insertAdjacentHTML("beforeend",o),a.value="";for(var s=0;s<d.length;s++)s===parseInt(e)?a.value+="actua"===t?i[0]+"-"+i[1]+"-"+i[2]+"-"+i[3]+"-"+i[4]+"-N-"+i[6]+";":"86S97S99S105S111;":a.value+=d[s]+";";validacionExistenciaInsumosP(t),autocompleteInsumosProducto(t),n="reg"===t?"Reg":"Actua",$(".tablaListarInsumosProductos"+n).DataTable().row($("#"+e+"BtnRemoveRowIP"+t).parents("tr")).remove().draw(!1)}function cantInsumoProducto(e,t,o){var n,a=document.getElementById(o+"InsumosPProducto"),r=a.value.substring(0,a.value.length-1),d=r.split(";"),i=d[parseInt(t)].split("-");if("resta"===e)if(n="reg"===o?i[3]:i[4],parseInt(n)>1){a.value="";for(var s=0;s<d.length;s++)s===parseInt(t)?a.value+="actua"===o?i[0]+"-"+i[1]+"-"+i[2]+"-"+i[3]+"-"+(parseInt(i[4])-1)+"-"+i[5]+"-"+i[6]+";":i[0]+"-"+i[1]+"-"+i[2]+"-"+(parseInt(i[3])-1)+";":a.value+=d[s]+";";document.getElementById(t+"CantRowIP"+o).innerText=parseInt(n)-1,$("#"+t+"BtnMasRowIP"+o).removeAttr("disabled")}else $("#"+t+"BtnMenosRowIP"+o).attr("disabled","");else if(n="reg"===o?i[3]:i[4],parseInt(n)<99999){a.value="";for(s=0;s<d.length;s++)s===parseInt(t)?a.value+="actua"===o?i[0]+"-"+i[1]+"-"+i[2]+"-"+i[3]+"-"+(parseInt(i[4])+1)+"-"+i[5]+"-"+i[6]+";":i[0]+"-"+i[1]+"-"+i[2]+"-"+(parseInt(i[3])+1)+";":a.value+=d[s]+";";document.getElementById(t+"CantRowIP"+o).innerText=parseInt(n)+1,$("#"+t+"BtnMenosRowIP"+o).removeAttr("disabled")}else $("#"+t+"BtnMasRowIP"+o).attr("disabled","")}function productosVerModal(e,t,o,n,a){document.getElementById("verNombreProducto").innerText=DescifrarASCII(t),document.getElementById("verCategoriaProducto").innerText=DescifrarASCII(e),formatNumber(n,"verPrecioProducto","ver"),document.getElementById("verDescripcionProducto").innerText="86S97S99S105S111"===o?"Sin descripción.":DescifrarASCII(o);for(var r=a.split(";"),d="",i=0;i<r.length;i++){var s=r[i].split("-");d+=i+1+". <b>"+DescifrarASCII(s[2])+"</b> con una cantidad de <b>"+s[4]+" "+(parseInt(s[4])>1?"Unidades":"Unidad")+"</b><br>"}d=d.substring(0,d.length-4),document.getElementById("verInsumosGastaProducto").innerHTML=d}function productosActualizarModal(e,t,o,n,a,r){$("#productosAGerenteModal input,select,textarea").css("color","#555555"),document.getElementById("actuaIDProducto").value=e,document.getElementById("actuaNombreProducto").value=DescifrarASCII(o),formatNumber(a,"actuaPrecioProducto","reg"),document.getElementById("actuaCategoriaProducto").value=t,document.getElementById("actuaDescripcionProducto").value="86S97S99S105S111"===n?"":DescifrarASCII(n);var d,i,s,c=document.getElementById("actuaInsumosPProducto").value;if(c.length>0){d=c.substring(0,c.length-1),i=d.split(";");for(var u="",l=0;l<i.length;l++)s=i[l].split("-"),u+='<option value="'+s[1]+";"+s[3]+'">'+DescifrarASCII(s[2])+"</option>";document.getElementById("actuaInsumosProducto").insertAdjacentHTML("beforeend",u),$(".tablaListarInsumosProductosActua").DataTable().clear().draw()}document.getElementById("actuaCantidadInsumosProducto").value="",document.getElementById("actuaCantidadInsumosProducto").style.background="#fff",document.getElementById("actuaInsumosPProducto").value="",document.getElementById("actuaInsumosProducto").style.background="#fff",c=r.substring(0,r.length-1),i=c.split(";");for(l=0;l<i.length;l++){s=i[l].split("-"),$(".tablaListarInsumosProductosActua").DataTable().row.add([DescifrarASCII(s[2]),`<div class="td-espaciado">\n                <button type="button" id="${l}BtnMenosRowIPactua" onclick="cantInsumoProducto('resta', '${l}', 'actua')" class="btn btn-warning"><span class="glyphicon glyphicon-minus"></span></button>\n                    <span>\n                        <span id="${l}CantRowIPactua">${s[4]}</span>\n                        <span>${" "+s[3]}</span>\n                    </span>\n                <button type="button" id="${l}BtnMasRowIPactua" onclick="cantInsumoProducto('suma', '${l}', 'actua')" class="btn btn-warning"><span class="glyphicon glyphicon-plus"></span></button>\n            </div>`,`<div class="td-espaciado">\n                <button type="button" id="${l}BtnRemoveRowIPactua" onclick="removerInsumoProducto('${l}', 'actua')" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Remover</button>\n            </div>`]).draw();var m=document.getElementById("actuaInsumosProducto"),I=$("#actuaInsumosProducto").children('option[value="'+s[1]+";"+s[3]+'"]').index(),g=m.options[I];g.remove()}document.getElementById("actuaInsumosPProducto").value=r+";",validacionExistenciaInsumosP("actua"),autocompleteInsumosProducto("actua")}function productosEliminarModal(e,t,o){$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"¿Esta Segur"+("Masculino"===e?"o":"a")+" de Eliminar?",content:'Cuando eliminé el producto <b style="color:#e74c3c;">"'+DescifrarASCII(o)+'"</b>, también se eliminarán todas las promociones existentes de él.',type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{Cancelar:{text:"Cancelar",btnClass:"btn-default"},Eliminar:{text:"Eliminar",btnClass:"btn-red",action:function(){window.location="ProductoE?elimIDProducto="+t}}}})}function categoriasActualizarModal(e,t){$("#categoriasAGerenteModal input,select,textarea").css("color","#555555"),document.getElementById("actuaIDCategoria").value=e,document.getElementById("actuaNombreCategoria").value=DescifrarASCII(t)}function categoriasEliminarModal(e,t,o){$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"¿Esta Segur"+("Masculino"===e?"o":"a")+" de Eliminar?",content:'Cuando eliminé la categoría <b style="color:#e74c3c;">"'+DescifrarASCII(o)+'"</b>, también se eliminarán todos los productos de está más sus promociones.',type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{Cancelar:{text:"Cancelar",btnClass:"btn-default"},Eliminar:{text:"Eliminar",btnClass:"btn-red",action:function(){window.location="CategoriaE?elimIDCategoria="+t}}}})}function validacionHorario(e,t,o){if(""===e.value?($("#"+o+"HastaOpcion"+t+"Sedes").removeAttr("required"),$("#"+o+"DesdeOpcion"+t+"Sedes").removeAttr("required"),$("#"+o+"CJOpcion"+t+"Sedes").hide()):($("#"+o+"HastaOpcion"+t+"Sedes").attr("required",""),$("#"+o+"DesdeOpcion"+t+"Sedes").attr("required",""),$("#"+o+"CJOpcion"+t+"Sedes").show()),"1"===t)if("Viernes y Sábados"===e.value){$("#"+o+"HastaOpcion2Sedes").removeAttr("required"),$("#"+o+"DesdeOpcion2Sedes").removeAttr("required"),$("#"+o+"CJOpcion2Sedes").hide(),$("#"+o+"CJMOpcion2Sedes").hide();var n=document.getElementById(o+"Opcion2Sedes");"Sábados y Domingos"!==n.value&&"Fines de Semana y Festivos"!==n.value||$("#"+o+"CJMOpcion3Sedes").show(),document.getElementById(o+"Opcion2Sedes").value=""}else $("#"+o+"CJMOpcion2Sedes").show();else"2"===t&&("Sábados y Domingos"===e.value||"Fines de Semana y Festivos"===e.value?($("#"+o+"HastaOpcion3Sedes").removeAttr("required"),$("#"+o+"DesdeOpcion3Sedes").removeAttr("required"),$("#"+o+"CJOpcion3Sedes").hide(),$("#"+o+"CJMOpcion3Sedes").hide(),document.getElementById(o+"Opcion3Sedes").value=""):$("#"+o+"CJMOpcion3Sedes").show());var a=document.getElementById(o+"Opcion1Sedes").value,r=document.getElementById(o+"Opcion2Sedes").value,d=document.getElementById(o+"Opcion3Sedes").value;""===a&&""===r&&""===d?($("#"+o+"BtnSedes").attr("disabled",""),document.getElementById(o+"FormSedes").action="#"):($("#"+o+"BtnSedes").removeAttr("disabled"),"reg"===o?document.getElementById("regFormSedes").action="Sede":document.getElementById("actuaFormSedes").action="SedeA")}function sedesVerModal(e,t,o,n,a,r,d,i){$(".collapse").collapse("hide"),document.getElementById("verTituloNombreSedes").innerText="Detalles de "+DescifrarASCII(e),document.getElementById("verNombreSedes").innerText=DescifrarASCII(e),document.getElementById("verRangoSedes").innerText=t,document.getElementById("verCiudadSedes").innerText=DescifrarASCII(o),document.getElementById("verDireccionSedes").innerText=DescifrarASCII(n),1===Number(a)?document.getElementById("verMesasSedes").innerText="1 Mesa":document.getElementById("verMesasSedes").innerText=a+" Mesas",document.getElementById("verSrcSedes").innerText=DescifrarASCII(r),$("#verMapaSedes iframe").attr("src",DescifrarASCII(r));for(var s=i.split(";"),c=d.split(";"),u="",l=0;l<3;l++){var m=DescifrarASCII(s[l]);if("86S97S99S105S111"!==c[l]){var I=c[l].split("-"),g=DescifrarASCII(I[0]),v=DescifrarASCII(I[1]);u+="Los días <b>"+m+"</b>, desde las <b>"+horaMilitarANormal(g)+"</b> hasta las <b>"+horaMilitarANormal(v)+"</b><br>"}}u=u.substring(0,u.length-2),document.getElementById("verHorariosSedes").innerHTML=u}function sedesActualizarModal(e,t,o,n,a,r,d,i,s){$("#sedesAGerenteModal input,select,textarea").css("color","#555555"),document.getElementById("actuaTituloNombreSedes").innerText="Actualizar Información de la Sede "+DescifrarASCII(t),document.getElementById("actuaIDSedes").value=e,document.getElementById("actuaNombreSedes").value=DescifrarASCII(t),document.getElementById("actuaRangoSedes").value=o,document.getElementById("actuaCiudadSedes").value=n,document.getElementById("actuaDireccionSedes").value=DescifrarASCII(a),document.getElementById("actuaMesasSedes").value=r,document.getElementById("actuaSrcSedes").value=DescifrarASCII(d),document.getElementById("actuaOpcion1Sedes").value="",$("#actuaHastaOpcion1Sedes").removeAttr("required"),$("#actuaDesdeOpcion1Sedes").removeAttr("required"),document.getElementById("actuaOpcion2Sedes").value="",$("#actuaHastaOpcion2Sedes").removeAttr("required"),$("#actuaDesdeOpcion2Sedes").removeAttr("required"),document.getElementById("actuaOpcion3Sedes").value="",$("#actuaHastaOpcion3Sedes").removeAttr("required"),$("#actuaDesdeOpcion3Sedes").removeAttr("required"),$("#actuaCJMOpcion2Sedes").show(),$("#actuaCJMOpcion3Sedes").show(),$("#actuaCJOpcion1Sedes").hide(),$("#actuaCJOpcion2Sedes").hide(),$("#actuaCJOpcion3Sedes").hide();for(var c=s.split(";"),u=i.split(";"),l=0;l<3;l++){var m=DescifrarASCII(c[l]),I=l+1;if("86S97S99S105S111"!==u[l]){var g=u[l].split("-"),v=DescifrarASCII(g[0]),p=DescifrarASCII(g[1]);$("#actuaHastaOpcion"+I+"Sedes").attr("required",""),$("#actuaDesdeOpcion"+I+"Sedes").attr("required",""),document.getElementById("actuaHastaOpcion"+I+"Sedes").value=p,document.getElementById("actuaDesdeOpcion"+I+"Sedes").value=v,$("#actuaCJOpcion"+I+"Sedes").show(),document.getElementById("actuaOpcion"+I+"Sedes").value=m,1===I?"Viernes y Sábados"===m&&($("#actuaHastaOpcion2Sedes").removeAttr("required"),$("#actuaDesdeOpcion2Sedes").removeAttr("required"),$("#actuaCJOpcion2Sedes").hide(),$("#actuaCJMOpcion2Sedes").hide(),document.getElementById("actuaOpcion2Sedes").value=""):2===I&&("Sábados y Domingos"!==m&&"Fines de Semana y Festivos"!==m||($("#actuaHastaOpcion3Sedes").removeAttr("required"),$("#actuaDesdeOpcion3Sedes").removeAttr("required"),$("#actuaCJOpcion3Sedes").hide(),$("#actuaCJMOpcion3Sedes").hide(),document.getElementById("actuaOpcion3Sedes").value=""))}}}function soportesActualizarModal(e,t,o){$("#soporteAModal input,select,textarea").css("color","#555555"),document.getElementById("actuaIDSoportes").value=e,document.getElementById("actuaRoMSoportes").value=DescifrarASCII(t),document.getElementById("actuaDescripcionSoportes").value=DescifrarASCII(o)}function soportesVerModal(e,t,o,n,a,r,d){document.getElementById("verFechaSolicitudSoportes").innerText=estructurarFecha("dd",t)+" / "+estructurarFecha("mm",t)+" / "+estructurarFecha("aa",t),document.getElementById("verFechaResueltoSoportes").innerText="null"===o?"Aún no esta corregido.":estructurarFecha("dd",o)+" / "+estructurarFecha("mm",o)+" / "+estructurarFecha("aa",o),"AdminS"===e?($("#verDivAdminSSoportes").show(),$("#verHrAdminSSoportes").show(),document.getElementById("verUsuarioSoportes").innerText=DescifrarASCII(n),document.getElementById("verSedeSoportes").innerText=a):($("#verDivAdminSSoportes").hide(),$("#verHrAdminSSoportes").hide()),document.getElementById("verRutaSoportes").innerText=DescifrarASCII(r),document.getElementById("verDescripcionSoportes").innerText=DescifrarASCII(d)}function resPqrsfResponderModal(e,t){document.getElementById("respIDResPQRSF").value=e,document.getElementById("respEmailCliOcultoResPQRSF").value=DescifrarASCII(t),document.getElementById("respEmailCliResPQRSF").value=DescifrarASCII(t)}function resPqrsfVerModal(e,t,o,n,a,r,d,i,s,c,u){document.getElementById("verTituloNombreResPQRSF").innerText="Solicitud de "+DescifrarASCII(t),document.getElementById("verFechaResPQRSF").innerText=estructurarFecha("dd",o)+" / "+estructurarFecha("mm",o)+" / "+estructurarFecha("aa",o),document.getElementById("verHoraResPQRSF").innerText=estructurarHora("h",n)+" : "+estructurarHora("m",n),document.getElementById("verTipoSolicitudResPQRSF").innerText=a,document.getElementById("verDirigidoAResPQRSF").innerText=r,document.getElementById("verConsultaResPQRSF").innerText=DescifrarASCII(d),document.getElementById("verUsuarioResPQRSF").innerText=c===u?DescifrarASCII(e)+"\nde tu misma Sede":DescifrarASCII(e)+"\nde la Sede "+DescifrarASCII(u),0===i.length?document.getElementById("verInterlocutorResPQRSF").innerText="Sin interlocutor":document.getElementById("verInterlocutorResPQRSF").innerText=DescifrarASCII(i),document.getElementById("verRespuestaResPQRSF").innerText="83S105S110S32S114S101S115S112S117S101S115S116S97"===s?"Sin respuesta":DescifrarASCII(s)}function usuarioSancionarModal(e,t){document.getElementById("sanIDUsuario").value=e,document.getElementById("sanEmailOcultoUsuario").value=DescifrarASCII(t),document.getElementById("sanEmailUsuario").value=DescifrarASCII(t),document.getElementById("sanJustificacionUsuario").placeholder="¿Porque razón desea sancionar al usuario "+DescifrarASCII(t)+"?"}function usuarioActualizarModal(e,t,o,n,a,r,d,i,s,c,u,l){$("#usuariosAGerenteModal input,select,textarea").css("color","#555555"),document.getElementById("actuaTituloNombreUsuario").innerText="Actualizar Información de "+DescifrarASCII(o),document.getElementById("actuaIDUsuario").value=e,document.getElementById("actuaNombresUsuario").value=DescifrarASCII(o),document.getElementById("actuaApellidosUsuario").value=DescifrarASCII(n),document.getElementById("actuaRolUsuario").value=DescifrarASCII(t),document.getElementById("actuaEmailUsuario").value=DescifrarASCII(a),document.getElementById("actuaTipoIdentiUsuario").value=r,document.getElementById("actuaNumIdentiUsuario").value=DescifrarASCII(d),document.getElementById("actuaTelefonoUsuario").value=DescifrarASCII(i),document.getElementById("actuaMovilUsuario").value=DescifrarASCII(s),document.getElementById("actuaGeneroUsuario").value=c,document.getElementById("actuaFechaNacimientoUsuario").value=u,document.getElementById("actuaDireccionUsuario").value=DescifrarASCII(l)}function usuarioVerModal(e,t,o,n,a,r,d,i,s,c,u,l,m,I,g,v){$(".collapse").collapse("hide"),document.getElementById("verTituloNombreUsuario").innerText="Ver detalles de "+DescifrarASCII(t)+"..",document.getElementById("verNombreUsuario").innerText=DescifrarASCII(t)+" "+DescifrarASCII(o),document.getElementById("verRolUsuario").innerText=DescifrarASCII(e),document.getElementById("verEmailUsuario").innerHTML="Y"===v?DescifrarASCII(n)+"<br><b>Esta Verificado</b>":DescifrarASCII(n)+"<br><b>No esta Verificado</b>","TI"===a?document.getElementById("verTipoIdentiUsuario").innerText="Tarjeta de Identidad:":"CC"===a?document.getElementById("verTipoIdentiUsuario").innerText="Cédula de Ciudadanía:":"TP"===a?document.getElementById("verTipoIdentiUsuario").innerText="Tarjeta de Pasaporte:":"CE"===a&&(document.getElementById("verTipoIdentiUsuario").innerText="Cédula de Extranjería:"),document.getElementById("verNumIdentiUsuario").innerText=DescifrarASCII(r),0===d.length?document.getElementById("verTelefonoUsuario").innerText="No tiene":document.getElementById("verTelefonoUsuario").innerText=DescifrarASCII(d),0===i.length?document.getElementById("verMovilUsuario").innerText="No tiene":document.getElementById("verMovilUsuario").innerText=DescifrarASCII(i),document.getElementById("verGeneroUsuario").innerText=s,document.getElementById("verFechaNacimientoUsuario").innerText=estructurarFecha("dd",c)+" del "+estructurarFecha("mm",c)+" de "+estructurarFecha("aa",c)+"\n"+calcularEdad(c)+" Años",0===u.length?document.getElementById("verDireccionUsuario").innerText="No tiene":document.getElementById("verDireccionUsuario").innerText=DescifrarASCII(u),"Y"===g?($("#usuariosVerModal #verTituloSancionUsuario").show(),$("#usuariosVerModal #accordionVerUsuario").show(),$("#usuariosVerModal #verTituloInformacionUsuario").show(),document.getElementById("verEmailModeradorUsuario").innerText=DescifrarASCII(l),document.getElementById("verFechaLimiteUsuario").innerText="Hasta el día "+estructurarFecha("dd",m)+" del mes "+estructurarFecha("mm",m)+" de "+estructurarFecha("aa",m),document.getElementById("verJustificacionUsuario").innerText=DescifrarASCII(I)):($("#usuariosVerModal #verTituloSancionUsuario").hide(),$("#usuariosVerModal #accordionVerUsuario").hide(),$("#usuariosVerModal #verTituloInformacionUsuario").hide())}function usuarioEliminarModal(e,t,o){$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"¿Esta Segur"+("Masculino"===e?"o":"a")+" de Eliminar?",content:'Cuando eliminé el usuario <b style="color:#e74c3c;">"'+DescifrarASCII(o)+'"</b>, también se eliminarán todas las solicitudes PQRSF de el.',type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{Cancelar:{text:"Cancelar",btnClass:"btn-default"},Eliminar:{text:"Eliminar",btnClass:"btn-red",action:function(){window.location="UsuarioE?elimIDUsuario="+t}}}})}function proveedorActualizarModal(e,t,o,n,a,r,d,i,s,c,u,l,m,I,g,v,p,P,f,C){$("#proveedoresAGerenteModal input,select,textarea").css("color","#555555"),document.getElementById("actuaIDProveedor").value=e,document.getElementById("actuaNombreCOEProveedor").value=DescifrarASCII(t),document.getElementById("actuaTipoIdentiFiscalCOEProveedor").value=o,document.getElementById("actuaNumIdentiTribuCOEProveedor").value=DescifrarASCII(n),document.getElementById("actuaTelefonoCOEProveedor").value=DescifrarASCII(a),document.getElementById("actuaExtTelefonoCOEProveedor").value=DescifrarASCII(r),document.getElementById("actuaMovilCOEProveedor").value=DescifrarASCII(d),document.getElementById("actuaFaxCOEProveedor").value=DescifrarASCII(i),document.getElementById("actuaExtFaxCOEProveedor").value=DescifrarASCII(s),document.getElementById("actuaCiudadCOEProveedor").value=c,document.getElementById("actuaDireccionCOEProveedor").value=DescifrarASCII(u),document.getElementById("actuaNombrePCProveedor").value=DescifrarASCII(l),document.getElementById("actuaCargoPCProveedor").value=DescifrarASCII(m),document.getElementById("actuaTipoIdentiPCProveedor").value=I,document.getElementById("actuaNumIdentiPCProveedor").value=DescifrarASCII(g),document.getElementById("actuaEmailPCProveedor").value=DescifrarASCII(v),document.getElementById("actuaFaxPCProveedor").value=DescifrarASCII(p),document.getElementById("actuaExtFaxPCProveedor").value=DescifrarASCII(P),document.getElementById("actuaTelefonoPCProveedor").value=DescifrarASCII(f),document.getElementById("actuaMovilPCProveedor").value=DescifrarASCII(C)}function proveedorVerModal(e,t,o,n,a,r,d,i,s,c,u,l,m,I,g,v,p,P,f){$(".collapse").collapse("hide"),document.getElementById("verNombreCOEProveedor").innerText=DescifrarASCII(e),"A"===t?document.getElementById("verTipoIdentiFiscalCOEProveedor").innerText="Número de identificación de empleador de los EE.UU. (EIN):":"N"===t?document.getElementById("verTipoIdentiFiscalCOEProveedor").innerText="Número de identificación nacional:":"R"===t&&(document.getElementById("verTipoIdentiFiscalCOEProveedor").innerText="RUT / RUC / RFC Número de identificación fiscal:"),document.getElementById("verNumIdentiTribuCOEProveedor").innerText=DescifrarASCII(o),0===n.length?document.getElementById("verTelefonoCOEProveedor").innerText="No tiene":0===a.length?document.getElementById("verTelefonoCOEProveedor").innerText=DescifrarASCII(n):document.getElementById("verTelefonoCOEProveedor").innerText=DescifrarASCII(n)+" EXT. "+a,0===r.length?document.getElementById("verMovilCOEProveedor").innerText="No tiene":document.getElementById("verMovilCOEProveedor").innerText=DescifrarASCII(r),0===d.length?document.getElementById("verFaxCOEProveedor").innerText="No tiene":0===i.length?document.getElementById("verFaxCOEProveedor").innerText=DescifrarASCII(d):document.getElementById("verFaxCOEProveedor").innerText=DescifrarASCII(d)+" EXT. "+DescifrarASCII(i),document.getElementById("verCiudadCOEProveedor").innerText=DescifrarASCII(s),document.getElementById("verDireccionCOEProveedor").innerText=DescifrarASCII(c),document.getElementById("verNombrePCProveedor").innerText=DescifrarASCII(u),document.getElementById("verCargoPCProveedor").innerText=DescifrarASCII(l),"CE"===m?document.getElementById("verTipoIdentiPCProveedor").innerText="Cédula de Extranjería:":"CC"===m?document.getElementById("verTipoIdentiPCProveedor").innerText="Cédula de Ciudadanía:":"TP"===m&&(document.getElementById("verTipoIdentiPCProveedor").innerText="Tarjeta de Pasaporte:"),document.getElementById("verNumIdentiPCProveedor").innerText=DescifrarASCII(I),0===g.length?document.getElementById("verEmailPCProveedor").innerText="No tiene":document.getElementById("verEmailPCProveedor").innerText=DescifrarASCII(g),0===v.length?document.getElementById("verFaxPCProveedor").innerText="No tiene":0===p.length?document.getElementById("verFaxPCProveedor").innerText=DescifrarASCII(v):document.getElementById("verFaxPCProveedor").innerText=DescifrarASCII(v)+" EXT. "+DescifrarASCII(p),0===P.length?document.getElementById("verTelefonoPCProveedor").innerText="No tiene":document.getElementById("verTelefonoPCProveedor").innerText=DescifrarASCII(P),0===f.length?document.getElementById("verMovilPCProveedor").innerText="No tiene":document.getElementById("verMovilPCProveedor").innerText=DescifrarASCII(f)}function proveedorEliminarModal(e,t,o){$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"¿Esta Segur"+("Masculino"===e?"o":"a")+" de Eliminar?",content:'Cuando eliminé el proveedor <b style="color:#e74c3c;">"'+DescifrarASCII(o)+'"</b>, también se eliminarán todos los insumos de cada sede proveídos por el.',type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{Cancelar:{text:"Cancelar",btnClass:"btn-default"},Eliminar:{text:"Eliminar",btnClass:"btn-red",action:function(){window.location="ProveedorE?elimIDProveedor="+t}}}})}function insumoDevolverModal(e,t,o,n){0===t.length?($("#devoAdvertenciaInsumo").show(),$("#devoInsumoInsumo").show(),document.getElementById("devoFormInsumo").action="#",$("#devoFormInsumo").hide(),document.getElementById("devoAdvertenciaInsumo").innerText="Lamentablemente no puede enviarle un correo de devolución al proveedor del siguiente insumo porque no existe un correo electrónico registrado en la base de datos.",document.getElementById("devoInsumoInsumo").innerText=DescifrarASCII(o),document.getElementById("devoIDInsumo").value="",document.getElementById("devoNomInsInsumo").value="",document.getElementById("devoNomProPCInsumo").value="",document.getElementById("devoEmailProOcultoInsumo").value="",document.getElementById("devoEmailProInsumo").value="",document.getElementById("devoRazonInsumo").placeholder=""):($("#devoAdvertenciaInsumo").hide(),$("#devoInsumoInsumo").hide(),document.getElementById("devoFormInsumo").action="InsumoD",$("#devoFormInsumo").show(),document.getElementById("devoAdvertenciaInsumo").innerText="",document.getElementById("devoInsumoInsumo").innerText="",document.getElementById("devoIDInsumo").value=e,document.getElementById("devoNomInsInsumo").value=DescifrarASCII(o),document.getElementById("devoNomProPCInsumo").value=DescifrarASCII(n),document.getElementById("devoEmailProOcultoInsumo").value=DescifrarASCII(t),document.getElementById("devoEmailProInsumo").value=DescifrarASCII(t),document.getElementById("devoRazonInsumo").placeholder='¿Que razón desea enviarle al proveedor del insumo "'+DescifrarASCII(o)+'" por su correo electrónico?')}function insumoActualizarModal(e,t,o,n,a,r,d,i){$("#insumoAGerenteModal input,select,textarea").css("color","#555555"),document.getElementById("actuaIDInsumo").value=e,document.getElementById("actuaReferenciaInsumo").value=DescifrarASCII(t),document.getElementById("actuaNombreInsumo").value=DescifrarASCII(o),document.getElementById("actuaFechaCaducidadInsumo").value=n,formatNumber(d,"actuaPrecioUnitarioInsumo","reg"),document.getElementById("actuaUnidadMedidaInsumo").value=a,document.getElementById("actuaCantidadInsumo").value=r,document.getElementById("actuaProveedorInsumo").value=i,document.getElementById("ValidacionPuntosActuaInsumos").removeAttribute("disabled")}function insumoVerModal(e,t,o,n,a,r,d,i,s,c,u,l,m,I,g,v,p){$(".collapse").collapse("hide"),document.getElementById("verReferenciaInsumo").innerText=DescifrarASCII(e),document.getElementById("verNombreInsumo").innerText=DescifrarASCII(t),document.getElementById("verFechaIngresoInsumo").innerText="Desde el día "+estructurarFecha("dd",o)+" del mes "+estructurarFecha("mm",o)+" / "+estructurarFecha("aa",o),document.getElementById("verFechaCaducidadInsumo").innerText="Hasta el día "+estructurarFecha("dd",n)+" del mes "+estructurarFecha("mm",n)+" / "+estructurarFecha("aa",n),document.getElementById("verCantidadInsumo").innerText=r+" "+a,formatNumber(d,"verPrecioUnitarioInsumo","ver"),document.getElementById("verProveedorInsumo").innerText=DescifrarASCII(i),"A"===s?document.getElementById("verTipoIdentiFiscalProInsumo").innerText="Número de identificación de empleador de los EE.UU. (EIN):":"N"===s?document.getElementById("verTipoIdentiFiscalProInsumo").innerText="Número de identificación nacional:":"R"===s&&(document.getElementById("verTipoIdentiFiscalProInsumo").innerText="RUT / RUC / RFC Número de identificación fiscal:"),document.getElementById("verNumIdentifiTribuProInsumo").innerText=DescifrarASCII(c),document.getElementById("verNombrePCProInsumo").innerText=DescifrarASCII(u),document.getElementById("verCargoPCProInsumo").innerText=DescifrarASCII(l),0===m.length?document.getElementById("verEmailPCProInsumo").innerText="No tiene":document.getElementById("verEmailPCProInsumo").innerText=DescifrarASCII(m),0===I.length?document.getElementById("verFaxPCProInsumo").innerText="No tiene":0===g.length?document.getElementById("verFaxPCProInsumo").innerText=DescifrarASCII(I):document.getElementById("verFaxPCProInsumo").innerText=DescifrarASCII(I)+" EXT. "+DescifrarASCII(g),
0===v.length?document.getElementById("verTelefonoPCProInsumo").innerText="No tiene":document.getElementById("verTelefonoPCProInsumo").innerText=DescifrarASCII(v),0===p.length?document.getElementById("verMovilPCProInsumo").innerText="No tiene":document.getElementById("verMovilPCProInsumo").innerText=DescifrarASCII(p)}function insumoEliminarModal(e,t,o){$.confirm({animation:"rotateX",closeAnimation:"zoom",title:"¿Esta Segur"+("Masculino"===e?"o":"a")+" de Eliminar?",content:'Cuando eliminé el insumo <b style="color:#e74c3c;">"'+DescifrarASCII(o)+'"</b>, también se elimina en todos los insumos que gasta cada producto.',type:"red",icon:"fa fa-warning",typeAnimated:!0,closeIconClass:"fa fa-close",buttons:{Cancelar:{text:"Cancelar",btnClass:"btn-default"},Eliminar:{text:"Eliminar",btnClass:"btn-red",action:function(){window.location="InsumoE?elimIDInsumo="+t}}}})}$(document).ready(function(){var e=window.location.pathname,t=e.substring(e.lastIndexOf("/")+1);"Acceder"===t?$('a[href="index"]').addClass("header-active"):$('a[href="'+t+'"]').addClass("header-active");var o=$(".navslogo").offset().top;$(window).scrollTop()>o?($(".navslogo").addClass("navclogo"),$(".logonav-slogo").addClass("logonav-clogo"),$(".menuprin-slogo").addClass("menuprin-clogo"),$(".navrnlogo").addClass("navrlogo")):($(".navslogo").removeClass("navclogo"),$(".logonav-slogo").removeClass("logonav-clogo"),$(".menuprin-slogo").removeClass("menuprin-clogo"),$(".navrnlogo").removeClass("navrlogo")),$(window).on("scroll",function(){$(window).scrollTop()>o?($(".navslogo").addClass("navclogo"),$(".logonav-slogo").addClass("logonav-clogo"),$(".menuprin-slogo").addClass("menuprin-clogo"),$(".navrnlogo").addClass("navrlogo")):($(".navslogo").removeClass("navclogo"),$(".logonav-slogo").removeClass("logonav-clogo"),$(".menuprin-slogo").removeClass("menuprin-clogo"),$(".navrnlogo").removeClass("navrlogo"))})}),$(".collapse").on("shown.bs.collapse",function(){$(this).parent().find(".bc .glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus")}).on("hidden.bs.collapse",function(){$(this).parent().find(".bc .glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus")}),$(".alert").delay(1e4).slideUp(200,function(){$(this).alert("close")});var nav1=!!window.Event,nav2=!!window.Event,nav3=!!window.Event;$(document).ready(function(){var e=document.getElementById("pedidosListar");null!==e&&($.ajax({url:"PEDRellenoCartaAJAX",type:"GET",dataType:"json",success:function(e){let t=e[0].categorias,o=e[0].productos,n="",a='<span class="input-group-addon">Producto:</span>';for(var r=0;r<t.length;r++)n+=`<option value="${t[r].idCategorias}">${t[r].nombre}</option>`;for(r=0;r<t.length;r++){a+=`<select required onchange="validacionProducto(this, 'reg'); $('#regBtnAgregarPedidos').removeAttr('disabled')" class="form-control" id="reg${t[r].idCategorias}C">`;for(var d=0;d<o.length;d++)o[d].idCategoria===t[r].idCategorias&&(a+=`<option value="${o[d].idProductos+";"+o[d].descripcion+";"+o[d].precio}">${o[d].nombre}</option>`);a+="</select>"}$("#regCategoriaPedidos").html(n),$("#regCJSProductosPedidos").html(a),$("#regCJSProductosPedidos select").hide(),$("#regCJSProductosPedidos #reg"+document.getElementById("regCategoriaPedidos").value+"C").show()}}),$.ajax({url:"PEDRellenoCartaAJAX",type:"GET",dataType:"json",success:function(e){let t=e[0].categorias,o=e[0].productos,n="",a='<span class="input-group-addon">Producto:</span>';for(var r=0;r<t.length;r++)n+=`<option value="${t[r].idCategorias}">${t[r].nombre}</option>`;for(r=0;r<t.length;r++){a+=`<select required onchange="validacionProducto(this, 'actua'); $('#actuaBtnAgregarPedidos').removeAttr('disabled')" class="form-control" id="actua${t[r].idCategorias}C">`;for(var d=0;d<o.length;d++)o[d].idCategoria===t[r].idCategorias&&(a+=`<option value="${o[d].idProductos+";"+o[d].descripcion+";"+o[d].precio}">${o[d].nombre}</option>`);a+="</select>"}$("#actuaCategoriaPedidos").html(n),$("#actuaCJSProductosPedidos").html(a),$("#actuaCJSProductosPedidos select").hide(),$("#actuaCJSProductosPedidos #actua"+document.getElementById("actuaCategoriaPedidos").value+"C").show()}}),rellenoMesasDisponibles("reg","N"),$("#pedidosActualizar").hide(),$("#pedidosRegistrar").hide(),$("#regSpanWarningPedidos").hide(),document.getElementById("regSubtotalPedidos").value=0,document.getElementById("regCantidadPedidos").value=1,localStorage.setItem("regCantProductosP","0"),$("#btnRegistrarPedidos").click(function(){$("#pedidosListar").hide(),$("#pedidosRegistrar").show()}),$(".btnListarPedidos").click(function(){$("#pedidosActualizar").hide(),$("#pedidosRegistrar").hide(),$("#pedidosListar").show()}),$(".btnListarRutaPedidos").click(function(){$("#pedidosActualizar").hide(),$("#pedidosRegistrar").hide(),$("#pedidosListar").show()}))}),$(document).ready(function(){var e=document.getElementById("pedidosProductosCocinero");if(null!==e){var t=localStorage;t.setItem("ProductosCocinero","");var o="";$("#pedidosBtnListoCocinero").attr("disabled","");for(var n=e.value.split(":"),a=0;a<n.length;a++){var r=n[a].split("-"),d=r[0].split(";"),i=r[1].split("!");t.setItem("ProductosCocinero",t.getItem("ProductosCocinero")+d[0]+";N-"),o+=`\n                <div class="item">\n                    <div class="item-contenido">\n                        <h4 id="${d[0]}ProductoT" class="danger">${DescifrarASCII(d[1])}</h4>\n                        <div class="item-c-CJBtn">\n                            <button onclick="estadoProductoCocinero(this, '${d[0]}', 'L')" class="btn btn-danger">¡Listo!</button>\n                        </div>\n                        <div class="item-c-body">\n                            <p><b>Cantidad de Productos:</b> ${d[2]}</p>\n                            <table class="tablaListarProductoCocinero${d[0]} table table-bordered">\n                                <thead>\n                                    <tr>\n                                        <th>Insumo</th>\n                                        <th>Cantidad</th>\n                                    </tr>\n                                </thead>\n                                <tbody>`;for(var s=0;s<i.length;s++){var c=i[s].split(";");o+=`       <tr>\n                                        <td>${DescifrarASCII(c[0])}</td>\n                                        <td>${c[1]+" "+c[2]}</td>\n                                    </tr>`}o+="       </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>"}$(".owl-carousel").html(o),tablasProductosCocinero(e.value)}}),$(document).ready(function(){var e=document.getElementById("regHayImagenCarrusel");null!==e&&(e.value="N",$("#regBtnCarrusel").attr("disabled",""),document.getElementById("cambHayImagenCarrusel").value="N",$("#cambBtnCarrusel").attr("disabled",""),$("#regDirigidoAPublicoCarrusel").hide())}),$(document).ready(function(){var e=document.getElementById("regInsumosPProducto");if(null!==e){validacionExistenciaInsumosP("reg"),autocompleteInsumosProducto("reg");var t=document.getElementById("regCantidadInsumosProducto"),o=document.getElementById("actuaCantidadInsumosProducto");t.addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("regBtnAggProducto").click())}),o.addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("actuaBtnAggProducto").click())})}}),$(document).ready(function(){var e=document.getElementById("regOpcion1Sedes");null!==e&&(document.getElementById("regOpcion1Sedes").value="",$("#regHastaOpcion1Sedes").removeAttr("required"),$("#regDesdeOpcion1Sedes").removeAttr("required"),document.getElementById("regOpcion2Sedes").value="",$("#regHastaOpcion2Sedes").removeAttr("required"),$("#regDesdeOpcion2Sedes").removeAttr("required"),document.getElementById("regOpcion3Sedes").value="",$("#regHastaOpcion3Sedes").removeAttr("required"),$("#regDesdeOpcion3Sedes").removeAttr("required"),$("#regCJOpcion1Sedes").hide(),$("#regCJOpcion2Sedes").hide(),$("#regCJOpcion3Sedes").hide(),document.getElementById("regFormSedes").action="#",$("#regBtnSedes").attr("disabled",""))});var swiper=new Swiper(".swiper-container",{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:0,stretch:0,depth:500,modifier:1,slideShadows:!1},pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});